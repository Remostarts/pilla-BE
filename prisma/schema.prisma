// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {  
  id                String          @id @default(uuid())
  email             String          @unique
  phone             String?         @unique
  role              String          @default("user")
  customerType      CustomerType    
  password          String?         
  firstName         String          
  middleName        String          
  lastName          String          
  profileImage      String?         
  isVerified        Boolean         @default(false)
  createdAt         DateTime        @default(now())
  updatedAt         DateTime        @updatedAt
  profile           Profile?        
  refreshToken      String[]      
}

model Profile {
  id                String          @id @default(uuid())
  road              String?       
  house             String?       
  city              String?       
  createdAt         DateTime        @default(now())
  updatedAt         DateTime        @updatedAt
  userId            String          @unique
  user              User            @relation(fields: [userId], references: [id], onDelete: Cascade)
}

model GettingStartedUser {
  id                           String          @id @unique @default(uuid())
  email                        String          @unique
  phone                        String?         @unique
  firstName                    String
  lastName                     String
  middleName                   String
  emailVerificationCode        String?
  emailVerificationExpiresAt   DateTime?
  phoneVerificationCode        String?
  phoneVerificationExpiresAt   DateTime?
}

model Feedback {
  id                  String          @id @default(uuid())
  name                String
  email               String          
  message             String
  createdAt           DateTime        @default(now())
}

enum CustomerType {
  personal
  business
}